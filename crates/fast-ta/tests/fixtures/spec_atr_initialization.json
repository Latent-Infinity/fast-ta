{
  "name": "ATR Initialization",
  "description": "Verify first ATR value uses SMA of first period True Ranges",
  "indicator": "atr",
  "rationale": "PRD ยง4.7: First ATR = SMA of first period TRs, then Wilder smoothing",
  "test_cases": [
    {
      "name": "sma_seed_period_3",
      "high": [12.0, 14.0, 13.0, 15.0, 14.0, 16.0],
      "low": [10.0, 11.0, 11.0, 12.0, 12.0, 13.0],
      "close": [11.0, 13.0, 12.0, 14.0, 13.0, 15.0],
      "params": {"period": 3},
      "expected_first_valid_index": 3,
      "expected_first_atr_is_sma": true,
      "notes": "TR[1..3] averaged: First ATR = SMA of first 3 TRs, then Wilder smoothing continues"
    },
    {
      "name": "sma_seed_period_5",
      "high": [100.0, 102.0, 104.0, 103.0, 105.0, 107.0, 106.0],
      "low": [98.0, 99.0, 101.0, 100.0, 102.0, 104.0, 103.0],
      "close": [99.0, 101.0, 103.0, 102.0, 104.0, 106.0, 105.0],
      "params": {"period": 5},
      "expected_first_valid_index": 5,
      "expected_first_atr_is_sma": true,
      "notes": "First valid ATR at index 5 should equal SMA of TR[1..5]"
    }
  ]
}
